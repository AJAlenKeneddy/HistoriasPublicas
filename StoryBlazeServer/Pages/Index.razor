@using StoryBlazeServer.Models
@using StoryBlazeServer.Components;
@page "/"
@inject HistoriaService HistoriaService


<PageTitle>Home</PageTitle>

<WelcomeBanner />
<br />
<script src="/js/auth.js"></script>
<div class="home-container">
    <div class="historias-section">
        <h3>Historias</h3>
        <HistoriaTable Historias="historias" />
    </div>

    <div class="fragmentos-section">
        <FragmentosMasVotados />
    </div>
</div>


@code {
    private List<Historia>? historias;

    protected override async Task OnInitializedAsync()
    {
        historias = await HistoriaService.GetHistoriasAsync();
    }
}
